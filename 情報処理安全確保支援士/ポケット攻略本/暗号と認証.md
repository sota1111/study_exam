# 暗号のいろは

## 暗号化方式
暗号化するための手順のことを**暗号化方式**といい、**暗号化アルゴリズム**と**鍵**に分けられる。

## 暗号とハッシュ値
同じハッシュ値になってしまう２つの情報を見つけるのが困難（**衝突発見困難性**）といった特徴がある。

## 暗号を評価する団体

### CRYPTREC
総務省、経済産業省、NICT、IPAなどからなる団体。

#### CRYPTRECリスト
電子政府における調達のために参照すべき暗号のリスト。

### NICT
国立研究開発法人情報通信研究機構の略称で、総務省と縁の深い団体。

### NIST
アメリカ国立標準技術研究所の略称で、技術標準の策定機関。
**FIPS PUB140**(暗号モジュールのセキュリティ水準要求事項)を定めた。



# 共通鍵暗号

## 共通鍵暗号の仕組み
暗号化と復号で同じ鍵を使う。

### 共通鍵の暗号方式：AES
広く普及したDESの安全性に黄信号が点ったため新しく作られた。
ブロック長は128bit固定で、鍵長は128bit、192bit、256bitから任意に選べる。

## 共通鍵暗号の欠点
- 送信者と受信者が同じ鍵を持つ必要がある。
- 鍵の数が増える。n人が参加するネットワークでn(n-1)/2個の鍵が必要。

## 量子暗号
量子鍵配送を指す。使い捨ての暗号鍵を事前に共有するための方法。
攻撃者が盗聴を行えば、必ず検出できる。
量子通信路を用いて安全に共有した乱数列を使い捨ての暗号鍵として用いることによって、原理的に第三者に解読されない秘匿通信が実現できる。



# 公開鍵暗号
暗号化する鍵と復号する鍵が異なる。

## 公開鍵暗号の特徴
暗号化を鍵（暗号化鍵）のことを公開鍵と呼ぶ。
復号鍵のことは秘密鍵と呼び区別する。
処理速度は遅い。

### 公開鍵暗号の鍵の数
鍵を使い回せるので鍵の数を減らすことができる。2n。

## 公開鍵暗号の欠点とハイブリッド暗号
公開鍵暗号は、暗号化と復号に大きな時間がかかり、CPUに負荷を掛ける。一般に共通鍵暗号の数百倍〜数千倍の時間が必要。

### ハイブリッド暗号
通信のスタート時は公開鍵暗号で通信し、使い捨てにする共通鍵を交換する。以降は、高速な共通鍵暗号方式を使って暗号通信を行う。

## 公開鍵暗号の実装技術

### RSA
広く使われている公開鍵暗号アルゴリズム。大きな数値の素因数分解に非常に時間がかかる性質を利用する。

### 楕円曲線暗号
楕円曲線上の演算規則を利用して鍵を生成する。離散対数問題を解くのにとても時間がかかる性質を利用する。RSAよりも短い鍵で安全性を確保できる。

### ハイブリッド暗号
公開鍵暗号方式の処理負荷を軽減するために、まず公開鍵暗号方式で通信路を確保して共通鍵を交換し、その後に共通鍵暗号方式で通信を行う。

## S/MIME
電子メールの拡張仕様であるMIMEに手を加えたもので、暗号化と認証の機能が追加されている。**暗号化には公開鍵暗号**が、**認証にはデジタル署名**が使われている。

### SMTPヘッダ
暗号化されない。
- 送信元アドレス
- 宛先アドレス
- 件名

### SMTPボディ
暗号化される。
- メール本文